<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="description" content="description goes here" />
    <meta name="keywords" content="keywords,goes,here" />
    <meta name="author" content="Your Name" />

    <link href="../styles/impact/css/site.css" rel="stylesheet" type="text/css" />
    
    <title>Getting Started with Embedded Development</title>



</script>
</head>
<body>
  
  <div id="navigation">
  	<div class="wrapper">
      <ul><li class="webgen-menu-level1"><a href="../index.html">MeshKeeper</a></li><li class="webgen-menu-level1"><a href="../source.html">Source</a></li><li class="webgen-menu-level1"><a href="../community.html">Community</a></li><li class="webgen-menu-level1"><a href="../support.html">Support</a></li><li class="webgen-menu-level1"><a href="../maven/1.0-SNAPSHOT/meshkeeper-api/apidocs/index.html">Javadoc</a></li><li class="webgen-menu-level1 webgen-menu-submenu"><a href="../blog/index.html">Blog</a></li><li class="webgen-menu-level1 webgen-menu-submenu webgen-menu-submenu-inhierarchy"><a href="index.html">Documentation</a></li><li class="webgen-menu-level1 webgen-menu-submenu"><a href="../downloads/index.html">Downloads</a></li></ul>
  	</div>
  </div>
  

  <div id="overview">
    <div class="wrapper">
      
      <div class="logo">
        <img src="../images/meshkeeper-logo.png"/>
      </div>
      
      <div class="message">
        <h1>Getting Started with Embedded Development</h1>

      </div>
    </div>
  </div>





  <div id='content'>
  	<div class='wrapper'>
      <h1 id='overview'>Overview</h1>

<p>It is easy to embed the MeshKeeper server side services into your application. This feature is extremely useful when you are in development mode to avoid having to setup all the server infrastructure.</p>

<h1 id='using_java'>Using Java</h1>

<p>With just a few lines of java code, you can get it all going:</p>
<div class="CodeRay">
  <div class="code"><pre>
<span style="color:#349;font-weight:bold">File</span> directory = <span style="color:#080;font-weight:bold">new</span> <span style="color:#349;font-weight:bold">File</span>(<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">target/data</span><span style="color:#710">&quot;</span></span>);
<span style="color:#349;font-weight:bold">String</span> registry = <span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">zk:tcp://localhost:2101</span><span style="color:#710">&quot;</span></span>;
server = MeshKeeperFactory.createControlServer(registry, directory);
meshKeeper = MeshKeeperFactory.createMeshKeeper(registry, directory);
agent = MeshKeeperFactory.createAgent(meshKeeper, directory);
</pre></div>
</div>

<p>Once the above runs, you will have a deployment similar to to the diagram bellow.<br />Your application should use the <a href='http://meshkeeper.fusesource.org/maven/1.0-SNAPSHOT/meshkeeper-api/apidocs/org/fusesource/meshkeeper/MeshKeeper.html'><code>MeshKeeper</code></a> object to access the distributed services like remote process launching.</p>
<img src='images/diagram-2.png' style='margin-top:1em' />
<h1 id='but_spring_is_more_flexible'>But Spring Is More Flexible</h1>

<p>While starting up everything in Java is very easy, We recommend that spring be used to to create the objects for you. This gives you the flexibility to switch you application between the embedded and distributed modes with just some configuration changes:</p>

<p>The following listing shows you the spring bean configurations needed to start up the the MeshKeeper server services.</p>
<div class='div' style='font-size:100%;'>
<div class="CodeRay">
  <div class="code"><pre>
<span style="color:#070">&lt;bean</span> <span style="color:#007">id</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">server</span><span style="color:#710">&quot;</span></span> <span style="color:#007">class</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">org.fusesource.meshkeeper.control.ControlServer</span><span style="color:#710">&quot;</span></span>
  <span style="color:#007">init-method</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">start</span><span style="color:#710">&quot;</span></span> <span style="color:#007">destroy-method</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">destroy</span><span style="color:#710">&quot;</span></span><span style="color:#070">&gt;</span>
  <span style="color:#070">&lt;property</span> <span style="color:#007">name</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">directory</span><span style="color:#710">&quot;</span></span> <span style="color:#007">value</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">control-data</span><span style="color:#710">&quot;</span></span> <span style="color:#070">/&gt;</span>
  <span style="color:#070">&lt;property</span> <span style="color:#007">name</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">registryUri</span><span style="color:#710">&quot;</span></span> <span style="color:#007">value</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">zk:tcp://localhost:2101</span><span style="color:#710">&quot;</span></span> <span style="color:#070">/&gt;</span>
<span style="color:#070">&lt;/bean&gt;</span>

<span style="color:#070">&lt;bean</span> <span style="color:#007">id</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">meshKeeper</span><span style="color:#710">&quot;</span></span> <span style="color:#007">class</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">org.fusesource.meshkeeper.spring.MeshKeeperFactory</span><span style="color:#710">&quot;</span></span><span style="color:#070">&gt;</span>
  <span style="color:#070">&lt;property</span> <span style="color:#007">name</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">registryUri</span><span style="color:#710">&quot;</span></span> <span style="color:#007">value</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">zk:tcp://localhost:2101</span><span style="color:#710">&quot;</span></span> <span style="color:#070">/&gt;</span>
  <span style="color:#070">&lt;property</span> <span style="color:#007">name</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">directory</span><span style="color:#710">&quot;</span></span> <span style="color:#007">value</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">client-data</span><span style="color:#710">&quot;</span></span> <span style="color:#070">/&gt;</span>
<span style="color:#070">&lt;/bean&gt;</span>

<span style="color:#070">&lt;bean</span> <span style="color:#007">id</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">agent</span><span style="color:#710">&quot;</span></span> <span style="color:#007">class</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">org.fusesource.meshkeeper.launcher.LaunchAgent</span><span style="color:#710">&quot;</span></span>
  <span style="color:#007">depends-on</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">meshkeeper</span><span style="color:#710">&quot;</span></span> <span style="color:#007">init-method</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">start</span><span style="color:#710">&quot;</span></span> <span style="color:#007">destroy-method</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">stop</span><span style="color:#710">&quot;</span></span><span style="color:#070">&gt;</span>
  <span style="color:#070">&lt;property</span> <span style="color:#007">name</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">meshKeeper</span><span style="color:#710">&quot;</span></span> <span style="color:#007">ref</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">meshkeeper</span><span style="color:#710">&quot;</span></span> <span style="color:#070">/&gt;</span>
  <span style="color:#070">&lt;property</span> <span style="color:#007">name</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">directory</span><span style="color:#710">&quot;</span></span> <span style="color:#007">value</span>=<span style="background-color:#fff0f0;color:#D20"><span style="color:#710">&quot;</span><span style="">launcher-data</span><span style="color:#710">&quot;</span></span> <span style="color:#070">/&gt;</span>
<span style="color:#070">&lt;/bean&gt;</span>
</pre></div>
</div>

</div>
<h1 id='next_steps'>Next Steps</h1>

<p>Now that you know how to start up the MeshKeeper services in your Java Application, perhaps you want to use some of them like <a href='embedded-development.html'>Launching a Remote Process</a> or access a remote process via <a href='remoting.html'>Remoting</a> or <a href='eventing.html'>Eventing</a>. with a remote process.</p>

  	</div>
  </div>




</body>
</html>